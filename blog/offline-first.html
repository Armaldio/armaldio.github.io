<html>
<head>
    <title></title>
    <link rel="stylesheet" href="../semantic/dist/semantic.min.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../theme/dark.css">
</head>
<body>

<div class="ui container">

    <br>
    <div class="ui segment">

        During this week, I had to develop a Progressive Web App (PWA)<br><br>Here, I will let you know about some awesome peices of technology that everyone should use to make the web better.<br><br>I will not go on the subjet <i><< Native is <b>faster</b>, <b>cleaner</b>, <b>better</b>, ... >></i>, I<br>    will just expose my own point of view<br><br>When writing an app, sometimes you don't know about who will use it. So you ask yourself the question <i><< For    which platform should I design my app ? >></i><br><br>With web, you don't have to ask this question. <i>Every</i> popular device have a <i>browser</i><br>(even TV !)<br><br>You write the app once, and you can use it everywhere, than is very handy (though, you have to make the code/UX<br>    "<i>responsive</i>", so that it adapts to the plateform it's on)<br><br>So for my app, I chose not to write a regular web app, but something called a <i>Progressive Web        App</i><br><br>The app could be used either on a regular browser or on a mobile device<br><br>## Progresssive Web App<br><br>According to Google, a PWA is <i>Reliable</i>, <i>Fast</i> and <i>Engaging</i><br><br>But what does that means ?<br><br>You have three types of connection :<br><br>* Connected<br>* Offline<br>* Uncertain<br><br>With a normal app, fetching data from the browser, when you are connected, it's ok. But when you are not, you just<br>    have the browser telling you that you have no network or even worse, infinite loading and and white page<br><br>With PWA, things are different. Here are some features :<br><br>* Progressive - Work for every user, regardless of browser choice because they're built with progressive        enhancement as a core tenet.<br>* Responsive - Fit any form factor: desktop, mobile, tablet, or forms yet to emerge.<br>* Connectivity independent - Service workers allow work offline, or on low quality networks.<br>* App-like - Feel like an app to the user with app-style interactions and navigation.<br>* Fresh - Always up-to-date thanks to the service worker update process.<br>* Safe - Served via HTTPS to prevent snooping and ensure content hasn't been tampered with.<br>* Discoverable - Are identifiable as "applications" thanks to W3C manifests[6] and service worker registration        scope allowing search engines to find them.<br>* Re-engageable - Make re-engagement easy through features like push notifications.<br>* Installable - Allow users to "keep" apps they find most useful on their home screen without the hassle of an app        store.<br>* Linkable - Easily shared via a URL and do not require complex installation.<br>        (Wikipedia)<br><br>A very interesting part is that you can cache pages (using Service Workers) and datas (using Database) wich means<br>    <i>saving datas on the user device</i> to be able to serve them when user is offline. But <i>not        only</i> !<br><br>This is the principle of <i>offline first</i><br><br>First time : User connect to website -> Website is served from server -> Website is cached<br><br>Second time : User connect to website -> Website load instantly from cache -> Website check for new version -><br>    Website cache new version -> Website ask the user if he wants to reload the pagee<br><br>Third time : User connect to website -> New version of the app is served from cache -> Website check for new<br>    version -> and the loop continues...<br><br>And this system works whatever the connectivity of the user cause <i>offline version</i> is served first.<br><br>## Service Worker<br><br>That's really nice but how do you achieve this kind of cache system ?<br><br>Thanks to Service workers.<br><br>They are small pieces of code that <b>interceps</b> browser requests<br><br>![alt text](https://infrequently.org/14/html5devconf<b>oct/images/sw</b>model.png "Service worker image")<br><br>Not going too much into details, service workers have <i>event</i> like <i>fetch</i>, <i>install</i>,<br>    <i>activate</i><br><br>On service worker installation, you can cache all website data<br><br>Then on fetch event (all single request goes to this function) you can do your check :<br><br>```js<br>on('fetch', page => {<br>    if (isCached(page)<br>        return (cachedPage);<br>    else<br>        return (pageFromServer);<br>}<br>```<br><br>You can even do more advanced stuff like, if the page isn't in the cache while fetching it from the server then cache<br>    it<br><br>## Database<br><br>Now, you know how to cache webpages and how to make an offline app<br><br>But what about data that you fetch from external websites like firebase ?<br><br>It works the same way but with database<br><br>There are several libraries that can help you achieve what you want, but the default one is<br>    <i>indexedDB</i><br><br>You juste have to open your database and get datas inside it :<br><br>```js<br>var request = window.indexedDB.open("MyTestDatabase", 3);<br><br>request.onsuccess = function(event) {<br>  db = event.target.result;<br>};<br>```<br><br>Now you can use your offline datas and then (if internet connections) fetch new datas, populate again with the new<br>    one and also cache them to the database<br><br>## Conclusion<br><br>I hope PWA have a bright future because I think it's composed of some awesome functionalities<br><br>In a world where everyone is on his phone, everywhere in the world, and moving fast an internet connection is not<br>    always available and it's very frustrating to not get the content you asked for.<br><br>Also performance in web is a great debate. If it's true that going to a browser, search for the website you want<br>    then wait for it to load if slower than a native app experience, it tends to be false with progressive web apps<br>    since browsers are more and more quick and powerfull and cache does a great job in speed improvement.<br><br>## References and links<br><br>Indexed db : [https://developer.mozilla.org/fr/docs/Web/API/API<b>IndexedDB/Using</b>IndexedDB](https://developer.mozilla.org/fr/docs/Web/API/API<b>IndexedDB/Using</b>IndexedDB)<br><br>Google I/O 2016 : [https://www.youtube.com/watch?v=cmGr0RszHc8](https://www.youtube.com/watch?v=cmGr0RszHc8)<br><br>Jake Archibald "Service Worker fanatic" :<br><br>* Twitter :[https://twitter.com/jaffathecake](https://twitter.com/jaffathecake)<br>* Github :[https://github.com/jakearchibald](https://github.com/jakearchibald)<br><br>Free Udemy course about PWA : [https://www.udacity.com/course/intro-to-progressive-web-appsâ€“ud811](https://www.udacity.com/course/intro-to-progressive-web-apps--ud811)<br><br>Service worker introduction : [https://developers.google.com/web/fundamentals/getting-started/primers/service-workers](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers)<br><br>Awesome Service Workers : [https://github.com/TalAter/awesome-service-workers](https://github.com/TalAter/awesome-service-workers)<br><br>Awesome PWA : [https://github.com/hemanth/awesome-pwa](https://github.com/hemanth/awesome-pwa)<br>

    </div>


</div>


<script src="../semantic/dist/semantic.min.js"></script>
</body>
</html>