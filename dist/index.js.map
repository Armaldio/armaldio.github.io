{"version":3,"sources":["../index.js"],"names":["$","document","ready","settings","donationsPaypalMonth","donationsPaypalYear","totalOldPatronDonations","goalPerMonth","goalPerYear","ajax","done","response","campain","pageFunctionResult","console","log","campainPerMonth","parseFloat","dollarPerInterval","substr","html","progress","percent","dropdown","action","theme","on","getElementById","innerHTML","href","el","target","modal","data"],"mappings":";;AAAA;;;;AAIAA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAM;AACpB,QAAIC,WAAW;AACX,iBAAS,IADE;AAEX,uBAAe,IAFJ;AAGX,eAAO,wHAHI;AAIX,kBAAU,KAJC;AAKX,mBAAW;AACP,sBAAU;AADH;AALA,KAAf;;AAUA,QAAIC,uBAAuB,CAA3B;AACA,QAAIC,sBAAsB,CAA1B;AACA,QAAIC,0BAA0B,CAA9B;AACA,QAAIC,eAAe,CAAnB;AACA,QAAIC,cAAc,EAAlB;;AAEAR,MAAES,IAAF,CAAON,QAAP,EAAiBO,IAAjB,CAAsB,UAAUC,QAAV,EAAoB;AACtC,YAAIC,UAAUD,SAAU,CAAV,EAAcE,kBAA5B;AACAC,gBAAQC,GAAR,CAAYJ,QAAZ;;AAEA,YAAIK,kBAAkBC,WAAWL,QAAQM,iBAAR,CAA0BC,MAA1B,CAAiC,CAAjC,CAAX,CAAtB;AACAnB,UAAE,yBAAF,EACKoB,IADL,kBACyBhB,oBADzB,iDACyFQ,QAAQM,iBADjG,0CACsJd,uBAAuBY,eAD7K,WACiMT,YADjM;;AAGAP,UAAE,qBAAF,EAAyBqB,QAAzB,CAAkC;AAC9BC,qBAAS,CAAClB,uBAAuBY,eAAxB,IAA2CT,YAA3C,GAA0D;AADrC,SAAlC;;AAIAP,UAAE,wBAAF,EACKoB,IADL,kBACyBf,mBADzB,kDACyFC,uBADzF,0CACoJD,sBAAsBC,uBAD1K,WACsME,WADtM;;AAGAR,UAAE,oBAAF,EAAwBqB,QAAxB,CAAiC;AAC7BC,qBAAS,CAACjB,sBAAsBC,uBAAvB,IAAkDE,WAAlD,GAAgE;AAD5C,SAAjC;AAGH,KAlBD;;AAoBAR,MAAE,WAAF,EAAeuB,QAAf,CAAwB;AACpBC,gBAAQ;AADY,KAAxB;;AAIAxB,MAAE,UAAF,EAAcuB,QAAd;;AAEA,QAAIE,QAAQ,OAAZ;;AAEAzB,MAAE,eAAF,EAAmB0B,EAAnB,CAAsB,OAAtB,EAA+B,YAAY;AACvC,YAAID,UAAU,OAAd,EAAuB;AACnBxB,qBAAS0B,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GAAoD,YAApD;AACA3B,qBAAS0B,cAAT,CAAwB,OAAxB,EAAiCE,IAAjC,GAAwC,gBAAxC;AACAJ,oBAAQ,MAAR;AACH,SAJD,MAKK;AACDxB,qBAAS0B,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GAAoD,WAApD;AACA3B,qBAAS0B,cAAT,CAAwB,OAAxB,EAAiCE,IAAjC,GAAwC,EAAxC;AACAJ,oBAAQ,OAAR;AACH;AACD,eAAO,KAAP;AACH,KAZD;;AAcAzB,MAAE,aAAF,EAAiB0B,EAAjB,CAAoB,OAApB,EAA6B,UAAUI,EAAV,EAAc;AACvC,YAAIC,SAASD,GAAGC,MAAhB;AACA,YAAIC,QAAQhC,EAAE+B,MAAF,EAAUE,IAAV,CAAe,OAAf,CAAZ;;AAEAnB,gBAAQC,GAAR,CAAYiB,KAAZ;;AAEAhC,UAAE,aAAF,EAAiBgC,KAAjB,CAAuB,MAAvB;AACH,KAPD;;AASA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEH,CAtID","file":"index.js","sourcesContent":["/**\r\n * Created by goinau_q on 20/06/17.\r\n */\r\n\r\n$(document).ready(() => {\r\n    var settings = {\r\n        'async': true,\r\n        'crossDomain': true,\r\n        'url': 'https://api.apify.com/v1/ZmQ2CJYWtBLuJnSkb/crawlers/ep6RSuqpgLX3CE3yn/lastExec/results?token=NHne8KxbFCJK2uxQ2Mieu9bWj',\r\n        'method': 'GET',\r\n        'headers': {\r\n            'cookie': 'AWSALB=kJq0735jJL4MSRsodFlaZSKh1F0Ol8zaqHeovp3U4WmgP%2F1vxmtEPMq7hDHqrAIchAPO%2BrrRkhrrGaYKFoENty9rSSn0vQjIGgOA3iBA%2FXXD6kYVeJTJa0zKbWk6'\r\n        }\r\n    };\r\n\r\n    let donationsPaypalMonth = 5;\r\n    let donationsPaypalYear = 5;\r\n    let totalOldPatronDonations = 0;\r\n    let goalPerMonth = 5;\r\n    let goalPerYear = 60;\r\n\r\n    $.ajax(settings).done(function (response) {\r\n        let campain = response[ 0 ].pageFunctionResult;\r\n        console.log(response);\r\n\r\n        let campainPerMonth = parseFloat(campain.dollarPerInterval.substr(1));\r\n        $('#progressbarDataMonthly')\r\n            .html(`Donations: $${donationsPaypalMonth} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Patreon: ${campain.dollarPerInterval} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $${donationsPaypalMonth + campainPerMonth}/$${goalPerMonth} per month`);\r\n\r\n        $('#progressbarMonthly').progress({\r\n            percent: (donationsPaypalMonth + campainPerMonth) / goalPerMonth * 100\r\n        });\r\n\r\n        $('#progressbarDataYearly')\r\n            .html(`Donations: $${donationsPaypalYear} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Patreon: $${totalOldPatronDonations} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $${donationsPaypalYear + totalOldPatronDonations}/$${goalPerYear} per year`);\r\n\r\n        $('#progressbarYearly').progress({\r\n            percent: (donationsPaypalYear + totalOldPatronDonations) / goalPerYear * 100\r\n        });\r\n    });\r\n\r\n    $('.dropdown').dropdown({\r\n        action: 'hide'\r\n    });\r\n\r\n    $('#lang-dd').dropdown();\r\n\r\n    let theme = 'night';\r\n\r\n    $('#theme-toggle').on('click', function () {\r\n        if (theme === 'light') {\r\n            document.getElementById('theme-toggle').innerHTML = 'Lights off';\r\n            document.getElementById('theme').href = 'theme/dark.css';\r\n            theme = 'dark';\r\n        }\r\n        else {\r\n            document.getElementById('theme-toggle').innerHTML = 'Lights on';\r\n            document.getElementById('theme').href = '';\r\n            theme = 'light';\r\n        }\r\n        return false;\r\n    });\r\n\r\n    $('.open-modal').on('click', function (el) {\r\n        let target = el.target;\r\n        let modal = $(target).data('modal');\r\n\r\n        console.log(modal);\r\n\r\n        $('.weuk.modal').modal('show');\r\n    });\r\n\r\n    //AOS.init();\r\n\r\n    /*let currentLang = localStorage.getItem(\"i18nextLng\");\r\n    if (currentLang === \"fr\")\r\n        $('#lang-dd').dropdown('set selected', 1);\r\n    else if (currentLang === \"en\")\r\n        $('#lang-dd').dropdown('set selected', 0);\r\n    $('#lang-dd').dropdown('refresh');\r\n\r\n    /!**\r\n     * i18next\r\n     *!/\r\n    i18next\r\n        .use(i18nextXHRBackend)\r\n        .use(i18nextBrowserLanguageDetector)\r\n        .init({\r\n            fallbackLng: 'en',\r\n            debug      : false,\r\n            backend    : {\r\n                loadPath   : 'assets/i18n/{{lng}}/{{ns}}.json',\r\n                crossDomain: true\r\n            }\r\n        }, function (err, t) {\r\n            updateContent();\r\n        });\r\n\r\n    // just set some content and react to language changes\r\n    // could be optimized using vue-i18next, jquery-i18next, react-i18next, ...\r\n    function updateContent () {\r\n        for (let i = 0; i < document.querySelectorAll('[data-i18n]').length; i++) {\r\n            document.querySelectorAll('[data-i18n]')[i].innerHTML = i18next.t(document.querySelectorAll('[data-i18n]')[i].getAttribute(\"data-i18n\"));\r\n        }\r\n    }\r\n\r\n    function changeLng (lng) {\r\n        i18next.changeLanguage(lng);\r\n    }\r\n\r\n    i18next.on('languageChanged', () => {\r\n        updateContent();\r\n    });\r\n\r\n    $(\"#language\").on(\"change\", () => {\r\n\r\n        let lang = $('#lang-dd').dropdown('get value');\r\n\r\n        if (parseInt(lang) === 0) {\r\n            i18next.changeLanguage('en');\r\n        } else {\r\n            i18next.changeLanguage('fr');\r\n        }\r\n\r\n    });\r\n\r\n    /!**\r\n     * //i18next\r\n     *!/\r\n\r\n    if (\"serviceWorker\" in navigator) {\r\n        navigator.serviceWorker.register('./sw.js').then((registration) => {\r\n            console.log(\"Service worker registered\");\r\n        }, () => {\r\n            console.log(\"Service worker failed to register\");\r\n        })\r\n    }*/\r\n\r\n});\r\n"]}